<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Better Form Validation</title>
<meta http-equiv="content-type" content="text/html; charset=gb2312">
<script type="text/javascript">
<!--
// 定义空白字符
var whitespace = " \t\n\r";
function isEmpty(s)
{
   var i;
   if((s == null) || (s.length == 0))
      return true;
   // Search string looking for characters that are not whitespace
   for (i = 0; i < s.length; i++)    
    {   
      var c = s.charAt(i);
      if (whitespace.indexOf(c) == -1) 
        return false;
    }
    // At this point all characters are whitespace.
    return true;
}

function validate()
{
  if (isEmpty(document.myform.username.value))
    {
        alert("Error: Username is required.");
        document.myform.username.focus();
        return false;
    }
  if (isEmpty(document.myform.userpass.value))
    {
        alert("Error: Non-empty password required.");
        document.myform.userpass.focus();
        return false;
    }
  return true;
}
//-->
</script>
</head>
<body>
<center><h1>改进的表单验证</h1>
提交前必须输入内容，但不可是空格。返回后，出错的表单域会获得焦点。</center>
<form name="myform" id="myform" method="get"
      action="http://www.javascriptref.com"
      onsubmit="return validate();">
Username: 
<input type="text" name="username" id="username" 
       size="30" maxlength="60">
<br>
Password: 
<input type="password" name="userpass" id="userpass" 
       size="8" maxlength="8">
<p>
<input type="submit" value="提  交">
</form>
</body>
</html>
